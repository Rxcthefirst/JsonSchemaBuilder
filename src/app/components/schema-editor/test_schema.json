{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://example.com/schemas/sample-containers.schema.json",
  "title": "Sample Containers Schema",
  "description": "Five containers with ~6 data elements each.",
  "type": "object",
  "additionalProperties": false,
  "properties": {
    "person": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "personId": { "$ref": "#/$defs/uuid" },
        "fullName": { "type": "string", "minLength": 1, "maxLength": 200 },
        "email": { "type": "string", "format": "email" },
        "birthDate": { "$ref": "#/$defs/date" },
        "isActive": { "type": "boolean", "default": true },
        "tags": {
          "type": "array",
          "items": { "type": "string", "minLength": 1 },
          "uniqueItems": true,
          "maxItems": 20
        }
      },
      "required": ["personId", "fullName", "email", "isActive"]
    },

    "account": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "accountId": { "$ref": "#/$defs/uuid" },
        "ownerId": { "$ref": "#/$defs/uuid" },
        "createdAt": { "$ref": "#/$defs/dateTime" },
        "status": {
          "type": "string",
          "enum": ["active", "suspended", "closed", "pending"]
        },
        "balance": { "type": "number", "minimum": 0 },
        "currency": { "$ref": "#/$defs/currencyCode" }
      },
      "required": ["accountId", "ownerId", "createdAt", "status", "currency"]
    },

    "product": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "sku": { "$ref": "#/$defs/sku" },
        "name": { "type": "string", "minLength": 1, "maxLength": 120 },
        "category": {
          "type": "string",
          "enum": ["movie", "book", "music", "software", "other"]
        },
        "price": { "type": "number", "minimum": 0 },
        "inStock": { "type": "integer", "minimum": 0 },
        "dimensions": {
          "type": "object",
          "additionalProperties": false,
          "properties": {
            "length": { "type": "number", "minimum": 0 },
            "width": { "type": "number", "minimum": 0 },
            "height": { "type": "number", "minimum": 0 }
          },
          "required": ["length", "width", "height"]
        }
      },
      "required": ["sku", "name", "price", "inStock"]
    },

    "order": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "orderId": { "$ref": "#/$defs/uuid" },
        "customerId": { "$ref": "#/$defs/uuid" },
        "items": {
          "type": "array",
          "minItems": 1,
          "items": {
            "type": "object",
            "additionalProperties": false,
            "properties": {
              "productSku": { "$ref": "#/$defs/sku" },
              "quantity": { "type": "integer", "minimum": 1 },
              "unitPrice": { "type": "number", "minimum": 0 }
            },
            "required": ["productSku", "quantity", "unitPrice"]
          }
        },
        "orderDate": { "$ref": "#/$defs/dateTime" },
        "totalAmount": { "type": "number", "minimum": 0 },
        "status": {
          "type": "string",
          "enum": ["new", "paid", "shipped", "delivered", "canceled", "refunded"]
        }
      },
      "required": ["orderId", "customerId", "items", "orderDate", "status"]
    },

    "shipment": {
      "type": "object",
      "additionalProperties": false,
      "properties": {
        "shipmentId": { "$ref": "#/$defs/uuid" },
        "orderId": { "$ref": "#/$defs/uuid" },
        "carrier": {
          "type": "string",
          "enum": ["UPS", "USPS", "FedEx", "DHL", "Other"]
        },
        "trackingNumber": { "type": "string", "minLength": 3, "maxLength": 64 },
        "shippedAt": { "$ref": "#/$defs/dateTime" },
        "deliveredAt": { "anyOf": [{ "$ref": "#/$defs/dateTime" }, { "type": "null" }] }
      },
      "required": ["shipmentId", "orderId", "carrier", "trackingNumber", "shippedAt"]
    }
  },

  "$defs": {
    "uuid": {
      "type": "string",
      "format": "uuid",
      "description": "RFC 4122 UUID"
    },
    "date": {
      "type": "string",
      "format": "date",
      "description": "ISO 8601 full-date (YYYY-MM-DD)"
    },
    "dateTime": {
      "type": "string",
      "format": "date-time",
      "description": "ISO 8601 date-time with offset (e.g., 2025-09-28T12:34:56Z)"
    },
    "currencyCode": {
      "type": "string",
      "pattern": "^[A-Z]{3}$",
      "description": "ISO 4217 currency code, e.g., USD, EUR"
    },
    "sku": {
      "type": "string",
      "pattern": "^[A-Z0-9_-]{3,32}$",
      "description": "Alphanumeric SKU (3â€“32 chars)"
    }
  },

  "required": ["person", "account", "product", "order", "shipment"]
}
